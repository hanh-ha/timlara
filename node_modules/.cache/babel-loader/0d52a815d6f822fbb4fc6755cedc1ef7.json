{"ast":null,"code":"import _slicedToArray from\"/var/www/timlara-admin-reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import moment from'moment';import _ from'lodash';import{useEffect,useState,useRef}from'react';export function isNumeric(value){return /^-{0,1}\\d+$/.test(value);}export function isString(str){var isStr=false;if(str&&typeof str==='string'){isStr=true;}return isStr;}export var isEmailValid=function isEmailValid(str){var emailValid=false;if(isString(str)){if(str.match(/[a-z0-9_+\\-.]+@[a-z0-9_\\-.]+\\.[a-z]+/i)){emailValid=true;}}return emailValid;};export function buildFormData(formData,data,parentKey){if(data&&typeof data==='object'&&!(data instanceof Date)&&!(data instanceof File)){if(Array.isArray(data)){formData.append(parentKey,data);}else{Object.keys(data).forEach(function(key){var fieldKey=isNumeric(key)?'[]':\"[\".concat(key,\"]\");buildFormData(formData,data[key],parentKey?\"\".concat(parentKey).concat(fieldKey):key);});}}else{var value=data==null?'':data;formData.append(parentKey,value);}}export function objectToFormData(data){var formData=new FormData();buildFormData(formData,data);return formData;}export var formatSqlDate=function formatSqlDate(date,noTime){if(!date)return'';if(!noTime){return moment(date,'YYYY-MM-DD HH:mm:ss').format('DD/MM/YYYY HH:mm');}return moment(date,'YYYY-MM-DD HH:mm:ss').format('DD/MM/YYYY');};export var useDebounce=function useDebounce(value,delay){// State and setters for debounced value\nvar _useState=useState(value),_useState2=_slicedToArray(_useState,2),debouncedValue=_useState2[0],setDebouncedValue=_useState2[1];useEffect(function(){// Update debounced value after delay\nvar handler=setTimeout(function(){setDebouncedValue(value);},delay);// Cancel the timeout if value changes (also on delay change or unmount)\n// This is how we prevent debounced value from updating if value is changed ...\n// .. within the delay period. Timeout gets cleared and restarted.\nreturn function(){clearTimeout(handler);};},[value,delay]// Only re-call effect if value or delay changes\n);return debouncedValue;};export var checkAccessParent=function checkAccessParent(accessible,mod){if(!accessible){return true;}if(accessible[mod]){if(!accessible[mod].length){return false;}else{return true;}}else{return false;}};export var checkAccess=function checkAccess(accessible,mod){var action=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'view';if(!accessible){return true;}if(accessible[mod]){if(_.indexOf(accessible[mod],action)===-1){return false;}else{return true;}}else{return false;}};export var usePrevious=function usePrevious(value){var ref=useRef();useEffect(function(){ref.current=value;},[value]);// Only re-run if value changes\nreturn ref.current;};export var timer=function timer(seconds){var min='00';var sec=seconds<10?'0'+String(seconds):String(seconds);if(seconds>=60){var secs=seconds%60;sec=secs<10?'0'+String(secs):String(secs);var mins=Math.floor(seconds/60);min=mins<10?'0'+String(mins):String(mins);}return min+':'+sec;};","map":{"version":3,"sources":["/var/www/timlara-admin-reactjs/src/helpers/index.ts"],"names":["moment","_","useEffect","useState","useRef","isNumeric","value","test","isString","str","isStr","isEmailValid","emailValid","match","buildFormData","formData","data","parentKey","Date","File","Array","isArray","append","Object","keys","forEach","key","fieldKey","objectToFormData","FormData","formatSqlDate","date","noTime","format","useDebounce","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","checkAccessParent","accessible","mod","length","checkAccess","action","indexOf","usePrevious","ref","current","timer","seconds","min","sec","String","secs","mins","Math","floor"],"mappings":"qJAAA,MAAOA,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CACA,OAASC,SAAT,CAAoBC,QAApB,CAA8BC,MAA9B,KAA4C,OAA5C,CAEA,MAAO,SAASC,CAAAA,SAAT,CAAmBC,KAAnB,CAA+B,CACrC,MAAO,eAAcC,IAAd,CAAmBD,KAAnB,CAAP,CACA,CACD,MAAO,SAASE,CAAAA,QAAT,CAAkBC,GAAlB,CAA4B,CAClC,GAAIC,CAAAA,KAAK,CAAG,KAAZ,CACA,GAAID,GAAG,EAAI,MAAOA,CAAAA,GAAP,GAAe,QAA1B,CAAoC,CACnCC,KAAK,CAAG,IAAR,CACA,CACD,MAAOA,CAAAA,KAAP,CACA,CACD,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAUF,GAAV,CAAoB,CAC/C,GAAIG,CAAAA,UAAU,CAAG,KAAjB,CACA,GAAIJ,QAAQ,CAACC,GAAD,CAAZ,CAAmB,CAClB,GAAIA,GAAG,CAACI,KAAJ,CAAU,uCAAV,CAAJ,CAAwD,CACvDD,UAAU,CAAG,IAAb,CACA,CACD,CACD,MAAOA,CAAAA,UAAP,CACA,CARM,CASP,MAAO,SAASE,CAAAA,aAAT,CAAuBC,QAAvB,CAAsCC,IAAtC,CAAiDC,SAAjD,CAAqE,CAC3E,GAAID,IAAI,EAAI,MAAOA,CAAAA,IAAP,GAAgB,QAAxB,EAAoC,EAAEA,IAAI,WAAYE,CAAAA,IAAlB,CAApC,EAA+D,EAAEF,IAAI,WAAYG,CAAAA,IAAlB,CAAnE,CAA4F,CAC3F,GAAIC,KAAK,CAACC,OAAN,CAAcL,IAAd,CAAJ,CAAyB,CACxBD,QAAQ,CAACO,MAAT,CAAgBL,SAAhB,CAA2BD,IAA3B,EACA,CAFD,IAEO,CACNO,MAAM,CAACC,IAAP,CAAYR,IAAZ,EAAkBS,OAAlB,CAA0B,SAACC,GAAD,CAAS,CAClC,GAAMC,CAAAA,QAAQ,CAAGtB,SAAS,CAACqB,GAAD,CAAT,CAAiB,IAAjB,YAA4BA,GAA5B,KAAjB,CACAZ,aAAa,CAACC,QAAD,CAAWC,IAAI,CAACU,GAAD,CAAf,CAAsBT,SAAS,WAAMA,SAAN,SAAkBU,QAAlB,EAA+BD,GAA9D,CAAb,CACA,CAHD,EAIA,CACD,CATD,IASO,CACN,GAAMpB,CAAAA,KAAK,CAAGU,IAAI,EAAI,IAAR,CAAe,EAAf,CAAoBA,IAAlC,CACAD,QAAQ,CAACO,MAAT,CAAgBL,SAAhB,CAA2BX,KAA3B,EACA,CACD,CAED,MAAO,SAASsB,CAAAA,gBAAT,CAA0BZ,IAA1B,CAAqC,CAC3C,GAAMD,CAAAA,QAAQ,CAAG,GAAIc,CAAAA,QAAJ,EAAjB,CACAf,aAAa,CAACC,QAAD,CAAWC,IAAX,CAAb,CACA,MAAOD,CAAAA,QAAP,CACA,CAED,MAAO,IAAMe,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,IAAD,CAAeC,MAAf,CAA4C,CACxE,GAAI,CAACD,IAAL,CAAW,MAAO,EAAP,CACX,GAAI,CAACC,MAAL,CAAa,CACZ,MAAOhC,CAAAA,MAAM,CAAC+B,IAAD,CAAO,qBAAP,CAAN,CAAoCE,MAApC,CAA2C,kBAA3C,CAAP,CACA,CACD,MAAOjC,CAAAA,MAAM,CAAC+B,IAAD,CAAO,qBAAP,CAAN,CAAoCE,MAApC,CAA2C,YAA3C,CAAP,CACA,CANM,CAQP,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAC5B,KAAD,CAAa6B,KAAb,CAA+B,CACzD;AADyD,cAEbhC,QAAQ,CAACG,KAAD,CAFK,wCAElD8B,cAFkD,eAElCC,iBAFkC,eAIzDnC,SAAS,CACR,UAAM,CACL;AACA,GAAMoC,CAAAA,OAAO,CAAGC,UAAU,CAAC,UAAM,CAChCF,iBAAiB,CAAC/B,KAAD,CAAjB,CACA,CAFyB,CAEvB6B,KAFuB,CAA1B,CAIA;AACA;AACA;AACA,MAAO,WAAM,CACZK,YAAY,CAACF,OAAD,CAAZ,CACA,CAFD,CAGA,CAbO,CAcR,CAAChC,KAAD,CAAQ6B,KAAR,CAAgB;AAdR,CAAT,CAiBA,MAAOC,CAAAA,cAAP,CACA,CAtBM,CAwBP,MAAO,IAAMK,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,UAAD,CAAkBC,GAAlB,CAAkC,CAClE,GAAI,CAACD,UAAL,CAAiB,CAChB,MAAO,KAAP,CACA,CACD,GAAIA,UAAU,CAACC,GAAD,CAAd,CAAqB,CACpB,GAAI,CAACD,UAAU,CAACC,GAAD,CAAV,CAAgBC,MAArB,CAA6B,CAC5B,MAAO,MAAP,CACA,CAFD,IAEO,CACN,MAAO,KAAP,CACA,CACD,CAND,IAMO,CACN,MAAO,MAAP,CACA,CACD,CAbM,CAeP,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACH,UAAD,CAAkBC,GAAlB,CAAmD,IAApBG,CAAAA,MAAoB,2DAAX,MAAW,CAC7E,GAAI,CAACJ,UAAL,CAAiB,CAChB,MAAO,KAAP,CACA,CACD,GAAIA,UAAU,CAACC,GAAD,CAAd,CAAqB,CACpB,GAAI1C,CAAC,CAAC8C,OAAF,CAAUL,UAAU,CAACC,GAAD,CAApB,CAA2BG,MAA3B,IAAuC,CAAC,CAA5C,CAA+C,CAC9C,MAAO,MAAP,CACA,CAFD,IAEO,CACN,MAAO,KAAP,CACA,CACD,CAND,IAMO,CACN,MAAO,MAAP,CACA,CACD,CAbM,CAeP,MAAO,IAAME,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAC1C,KAAD,CAAgB,CAC1C,GAAM2C,CAAAA,GAAG,CAAG7C,MAAM,EAAlB,CAEAF,SAAS,CAAC,UAAM,CACf+C,GAAG,CAACC,OAAJ,CAAc5C,KAAd,CACA,CAFQ,CAEN,CAACA,KAAD,CAFM,CAAT,CAEa;AAEb,MAAO2C,CAAAA,GAAG,CAACC,OAAX,CACA,CARM,CAUP,MAAO,IAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,OAAD,CAA6B,CACjD,GAAIC,CAAAA,GAAG,CAAG,IAAV,CACA,GAAIC,CAAAA,GAAG,CAAGF,OAAO,CAAG,EAAV,CAAe,IAAMG,MAAM,CAACH,OAAD,CAA3B,CAAuCG,MAAM,CAACH,OAAD,CAAvD,CACA,GAAIA,OAAO,EAAI,EAAf,CAAmB,CAClB,GAAMI,CAAAA,IAAI,CAAGJ,OAAO,CAAG,EAAvB,CACAE,GAAG,CAAGE,IAAI,CAAG,EAAP,CAAY,IAAMD,MAAM,CAACC,IAAD,CAAxB,CAAiCD,MAAM,CAACC,IAAD,CAA7C,CACA,GAAMC,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWP,OAAO,CAAG,EAArB,CAAb,CACAC,GAAG,CAAGI,IAAI,CAAG,EAAP,CAAY,IAAMF,MAAM,CAACE,IAAD,CAAxB,CAAiCF,MAAM,CAACE,IAAD,CAA7C,CACA,CACD,MAAOJ,CAAAA,GAAG,CAAG,GAAN,CAAYC,GAAnB,CACA,CAVM","sourcesContent":["import moment from 'moment';\nimport _ from 'lodash';\nimport { useEffect, useState, useRef } from 'react';\n\nexport function isNumeric(value: any) {\n\treturn /^-{0,1}\\d+$/.test(value);\n}\nexport function isString(str: any) {\n\tlet isStr = false;\n\tif (str && typeof str === 'string') {\n\t\tisStr = true;\n\t}\n\treturn isStr;\n}\nexport const isEmailValid = function (str: any) {\n\tlet emailValid = false;\n\tif (isString(str)) {\n\t\tif (str.match(/[a-z0-9_+\\-.]+@[a-z0-9_\\-.]+\\.[a-z]+/i)) {\n\t\t\temailValid = true;\n\t\t}\n\t}\n\treturn emailValid;\n};\nexport function buildFormData(formData: any, data: any, parentKey?: string) {\n\tif (data && typeof data === 'object' && !(data instanceof Date) && !(data instanceof File)) {\n\t\tif (Array.isArray(data)) {\n\t\t\tformData.append(parentKey, data);\n\t\t} else {\n\t\t\tObject.keys(data).forEach((key) => {\n\t\t\t\tconst fieldKey = isNumeric(key) ? '[]' : `[${key}]`;\n\t\t\t\tbuildFormData(formData, data[key], parentKey ? `${parentKey}${fieldKey}` : key);\n\t\t\t});\n\t\t}\n\t} else {\n\t\tconst value = data == null ? '' : data;\n\t\tformData.append(parentKey, value);\n\t}\n}\n\nexport function objectToFormData(data: any) {\n\tconst formData = new FormData();\n\tbuildFormData(formData, data);\n\treturn formData;\n}\n\nexport const formatSqlDate = (date: string, noTime?: boolean): string => {\n\tif (!date) return '';\n\tif (!noTime) {\n\t\treturn moment(date, 'YYYY-MM-DD HH:mm:ss').format('DD/MM/YYYY HH:mm');\n\t}\n\treturn moment(date, 'YYYY-MM-DD HH:mm:ss').format('DD/MM/YYYY');\n};\n\nexport const useDebounce = (value: any, delay: number) => {\n\t// State and setters for debounced value\n\tconst [debouncedValue, setDebouncedValue] = useState(value);\n\n\tuseEffect(\n\t\t() => {\n\t\t\t// Update debounced value after delay\n\t\t\tconst handler = setTimeout(() => {\n\t\t\t\tsetDebouncedValue(value);\n\t\t\t}, delay);\n\n\t\t\t// Cancel the timeout if value changes (also on delay change or unmount)\n\t\t\t// This is how we prevent debounced value from updating if value is changed ...\n\t\t\t// .. within the delay period. Timeout gets cleared and restarted.\n\t\t\treturn () => {\n\t\t\t\tclearTimeout(handler);\n\t\t\t};\n\t\t},\n\t\t[value, delay], // Only re-call effect if value or delay changes\n\t);\n\n\treturn debouncedValue;\n};\n\nexport const checkAccessParent = (accessible: any, mod: string) => {\n\tif (!accessible) {\n\t\treturn true;\n\t}\n\tif (accessible[mod]) {\n\t\tif (!accessible[mod].length) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t} else {\n\t\treturn false;\n\t}\n};\n\nexport const checkAccess = (accessible: any, mod: string, action = 'view') => {\n\tif (!accessible) {\n\t\treturn true;\n\t}\n\tif (accessible[mod]) {\n\t\tif (_.indexOf(accessible[mod], action) === -1) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t} else {\n\t\treturn false;\n\t}\n};\n\nexport const usePrevious = (value: any) => {\n\tconst ref = useRef();\n\n\tuseEffect(() => {\n\t\tref.current = value;\n\t}, [value]); // Only re-run if value changes\n\n\treturn ref.current;\n};\n\nexport const timer = (seconds: number): string => {\n\tlet min = '00';\n\tlet sec = seconds < 10 ? '0' + String(seconds) : String(seconds);\n\tif (seconds >= 60) {\n\t\tconst secs = seconds % 60;\n\t\tsec = secs < 10 ? '0' + String(secs) : String(secs);\n\t\tconst mins = Math.floor(seconds / 60);\n\t\tmin = mins < 10 ? '0' + String(mins) : String(mins);\n\t}\n\treturn min + ':' + sec;\n};\n"]},"metadata":{},"sourceType":"module"}
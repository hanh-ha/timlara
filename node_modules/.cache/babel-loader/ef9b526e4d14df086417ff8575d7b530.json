{"ast":null,"code":"import axios from 'axios';\nimport { objectToFormData } from '../../helpers';\n\nconst defaultHeader = token => {\n  const header = {\n    'Content-Type': 'application/json',\n    'Cache-Control': 'no-cache'\n  };\n  if (token) header.Authorization = `Bearer ${token}`;\n  return header;\n};\n\nclass ApiRequests {\n  get(apiUrl, params = {}, isAuth = true) {\n    const headers = defaultHeader(isAuth ? localStorage.getItem('backoffice_token') : null);\n    return new Promise((resolve, reject) => {\n      axios.get(apiUrl, {\n        headers,\n        params\n      }).then(response => {\n        const jsonData = response.data;\n        resolve(jsonData);\n      }).catch(e => {\n        reject(e);\n      });\n    });\n  }\n\n  post(apiUrl, input = {}, isAuth = true, jsonParser = false) {\n    const data = jsonParser ? JSON.stringify(input) : objectToFormData(input);\n    const headers = defaultHeader(isAuth ? localStorage.getItem('backoffice_token') : null);\n    return new Promise((resolve, reject) => {\n      axios.post(apiUrl, data, {\n        headers\n      }).then(response => {\n        const jsonData = response.data;\n        resolve(jsonData);\n      }).catch(e => {\n        reject(e);\n      });\n    });\n  }\n\n  put(apiUrl, input = {}, isAuth = true) {\n    const data = objectToFormData(input);\n    const headers = defaultHeader(isAuth ? localStorage.getItem('backoffice_token') : null);\n    return new Promise((resolve, reject) => {\n      axios.put(apiUrl, data, {\n        headers\n      }).then(response => {\n        const jsonData = response.data;\n        resolve(jsonData);\n      }).catch(e => {\n        reject(e);\n      });\n    });\n  }\n\n  delete(apiUrl, params = {}, isAuth = true) {\n    const headers = defaultHeader(isAuth ? localStorage.getItem('backoffice_token') : null);\n    return new Promise((resolve, reject) => {\n      axios.delete(apiUrl, {\n        headers,\n        params\n      }).then(response => {\n        const jsonData = response.data;\n        resolve(jsonData);\n      }).catch(e => {\n        reject(e);\n      });\n    });\n  }\n\n}\n\nexport const Requests = new ApiRequests();","map":{"version":3,"sources":["/var/www/timlara-admin-reactjs/src/store/requests/index.ts"],"names":["axios","objectToFormData","defaultHeader","token","header","Authorization","ApiRequests","get","apiUrl","params","isAuth","headers","localStorage","getItem","Promise","resolve","reject","then","response","jsonData","data","catch","e","post","input","jsonParser","JSON","stringify","put","delete","Requests"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { objectToFormData } from '../../helpers';\r\n\r\nconst defaultHeader = (token?: string | null) => {\r\n\tconst header: any = {\r\n\t\t'Content-Type': 'application/json',\r\n\t\t'Cache-Control': 'no-cache',\r\n\t};\r\n\tif (token) header.Authorization = `Bearer ${token}`;\r\n\treturn header;\r\n};\r\n\r\nclass ApiRequests {\r\n\tpublic get(apiUrl: string, params: any = {}, isAuth: boolean = true): Promise<any> {\r\n\t\tconst headers = defaultHeader(isAuth ? localStorage.getItem('backoffice_token') : null);\r\n\t\treturn new Promise<any>((resolve, reject) => {\r\n\t\t\taxios\r\n\t\t\t\t.get(apiUrl, { headers, params })\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\tconst jsonData = response.data;\r\n\t\t\t\t\tresolve(jsonData);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => {\r\n\t\t\t\t\treject(e);\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tpublic post(apiUrl: string, input: any = {}, isAuth: boolean = true, jsonParser: boolean = false): Promise<any> {\r\n\t\tconst data = jsonParser ? JSON.stringify(input) : objectToFormData(input);\r\n\t\tconst headers = defaultHeader(isAuth ? localStorage.getItem('backoffice_token') : null);\r\n\t\treturn new Promise<any>((resolve, reject) => {\r\n\t\t\taxios\r\n\t\t\t\t.post(apiUrl, data, { headers })\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\tconst jsonData = response.data;\r\n\t\t\t\t\tresolve(jsonData);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => {\r\n\t\t\t\t\treject(e);\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tpublic put(apiUrl: string, input: any = {}, isAuth: boolean = true): Promise<any> {\r\n\t\tconst data = objectToFormData(input);\r\n\t\tconst headers = defaultHeader(isAuth ? localStorage.getItem('backoffice_token') : null);\r\n\t\treturn new Promise<any>((resolve, reject) => {\r\n\t\t\taxios\r\n\t\t\t\t.put(apiUrl, data, { headers })\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\tconst jsonData = response.data;\r\n\t\t\t\t\tresolve(jsonData);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => {\r\n\t\t\t\t\treject(e);\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tpublic delete(apiUrl: string, params: any = {}, isAuth: boolean = true): Promise<any> {\r\n\t\tconst headers = defaultHeader(isAuth ? localStorage.getItem('backoffice_token') : null);\r\n\t\treturn new Promise<any>((resolve, reject) => {\r\n\t\t\taxios\r\n\t\t\t\t.delete(apiUrl, { headers, params })\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\tconst jsonData = response.data;\r\n\t\t\t\t\tresolve(jsonData);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => {\r\n\t\t\t\t\treject(e);\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport const Requests = new ApiRequests();\r\n"]},"metadata":{},"sourceType":"module"}
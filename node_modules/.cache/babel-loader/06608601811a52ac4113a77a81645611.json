{"ast":null,"code":"import axios from 'axios';\nimport { objectToFormData } from '../../helpers';\n\nconst defaultHeader = token => {\n  const header = {\n    'Content-Type': 'application/json',\n    'Cache-Control': 'no-cache'\n  };\n  if (token) header.Authorization = `Bearer ${token}`;\n  return header;\n};\n\nconst defaultUser = token => {\n  const user = {\n    'Content-Type': 'application/json',\n    'Cache-Control': 'no-cache'\n  };\n  if (token) user.Authorization = `Bearer ${token}`;\n  return user;\n};\n\nclass ApiRequests {\n  get(apiUrl, params = {}, isAuth = true) {\n    const headers = defaultHeader(isAuth ? localStorage.getItem('backoffice_token') : null);\n    return new Promise((resolve, reject) => {\n      axios.get(apiUrl, {\n        headers,\n        params\n      }).then(response => {\n        const jsonData = response.data;\n        resolve(jsonData);\n      }).catch(e => {\n        reject(e);\n      });\n    });\n    const users = defaultUser(isAuth ? localStorage.getItem('backoffice_token') : null);\n    return new Promise((resolve, reject) => {\n      axios.get(apiUrl, {\n        users,\n        params\n      }).then(response => {\n        const jsonData = response.data;\n        resolve(jsonData);\n      }).catch(e => {\n        reject(e);\n      });\n    });\n  }\n\n  post(apiUrl, input = {}, isAuth = true, jsonParser = false) {\n    const data = jsonParser ? JSON.stringify(input) : objectToFormData(input);\n    const headers = defaultHeader(isAuth ? localStorage.getItem('backoffice_token') : null);\n    return new Promise((resolve, reject) => {\n      axios.post(apiUrl, data, {\n        headers\n      }).then(response => {\n        const jsonData = response.data;\n        resolve(jsonData);\n      }).catch(e => {\n        reject(e);\n      });\n    });\n  }\n\n  put(apiUrl, input = {}, isAuth = true) {\n    const data = objectToFormData(input);\n    const headers = defaultHeader(isAuth ? localStorage.getItem('backoffice_token') : null);\n    return new Promise((resolve, reject) => {\n      axios.put(apiUrl, data, {\n        headers\n      }).then(response => {\n        const jsonData = response.data;\n        resolve(jsonData);\n      }).catch(e => {\n        reject(e);\n      });\n    });\n  }\n\n  delete(apiUrl, params = {}, isAuth = true) {\n    const headers = defaultHeader(isAuth ? localStorage.getItem('backoffice_token') : null);\n    return new Promise((resolve, reject) => {\n      axios.delete(apiUrl, {\n        headers,\n        params\n      }).then(response => {\n        const jsonData = response.data;\n        resolve(jsonData);\n      }).catch(e => {\n        reject(e);\n      });\n    });\n  }\n\n}\n\nexport const Requests = new ApiRequests();","map":{"version":3,"sources":["/var/www/timlara-admin-reactjs/src/store/requests/index.ts"],"names":["axios","objectToFormData","defaultHeader","token","header","Authorization","defaultUser","user","ApiRequests","get","apiUrl","params","isAuth","headers","localStorage","getItem","Promise","resolve","reject","then","response","jsonData","data","catch","e","users","post","input","jsonParser","JSON","stringify","put","delete","Requests"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { objectToFormData } from '../../helpers';\n\nconst defaultHeader = (token?: string | null) => {\n\tconst header: any = {\n\t\t'Content-Type': 'application/json',\n\t\t'Cache-Control': 'no-cache',\n\t};\n\tif (token) header.Authorization = `Bearer ${token}`;\n\treturn header;\n};\n\nconst defaultUser = (token?: string | null) => {\n\tconst user: any = {\n\t\t'Content-Type': 'application/json',\n\t\t'Cache-Control': 'no-cache',\n\t};\n\tif (token) user.Authorization = `Bearer ${token}`;\n\treturn user;\n};\n\nclass ApiRequests {\n\tpublic get(apiUrl: string, params: any = {}, isAuth: boolean = true): Promise<any> {\n\t\tconst headers = defaultHeader(isAuth ? localStorage.getItem('backoffice_token') : null);\n\t\treturn new Promise<any>((resolve, reject) => {\n\t\t\taxios\n\t\t\t\t.get(apiUrl, { headers, params })\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconst jsonData = response.data;\n\t\t\t\t\tresolve(jsonData);\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\treject(e);\n\t\t\t\t});\n\t\t});\n\t\tconst users = defaultUser(isAuth ? localStorage.getItem('backoffice_token') : null);\n\t\treturn new Promise<any>((resolve, reject) => {\n\t\t\taxios\n\t\t\t\t.get(apiUrl, { users, params })\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconst jsonData = response.data;\n\t\t\t\t\tresolve(jsonData);\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\treject(e);\n\t\t\t\t});\n\t\t});\n\t}\n\n\tpublic post(apiUrl: string, input: any = {}, isAuth: boolean = true, jsonParser: boolean = false): Promise<any> {\n\t\tconst data = jsonParser ? JSON.stringify(input) : objectToFormData(input);\n\t\tconst headers = defaultHeader(isAuth ? localStorage.getItem('backoffice_token') : null);\n\t\treturn new Promise<any>((resolve, reject) => {\n\t\t\taxios\n\t\t\t\t.post(apiUrl, data, { headers })\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconst jsonData = response.data;\n\t\t\t\t\tresolve(jsonData);\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\treject(e);\n\t\t\t\t});\n\t\t});\n\t}\n\n\tpublic put(apiUrl: string, input: any = {}, isAuth: boolean = true): Promise<any> {\n\t\tconst data = objectToFormData(input);\n\t\tconst headers = defaultHeader(isAuth ? localStorage.getItem('backoffice_token') : null);\n\t\treturn new Promise<any>((resolve, reject) => {\n\t\t\taxios\n\t\t\t\t.put(apiUrl, data, { headers })\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconst jsonData = response.data;\n\t\t\t\t\tresolve(jsonData);\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\treject(e);\n\t\t\t\t});\n\t\t});\n\t}\n\n\tpublic delete(apiUrl: string, params: any = {}, isAuth: boolean = true): Promise<any> {\n\t\tconst headers = defaultHeader(isAuth ? localStorage.getItem('backoffice_token') : null);\n\t\treturn new Promise<any>((resolve, reject) => {\n\t\t\taxios\n\t\t\t\t.delete(apiUrl, { headers, params })\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconst jsonData = response.data;\n\t\t\t\t\tresolve(jsonData);\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\treject(e);\n\t\t\t\t});\n\t\t});\n\t}\n}\n\nexport const Requests = new ApiRequests();\n"]},"metadata":{},"sourceType":"module"}
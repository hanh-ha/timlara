{"ast":null,"code":"import _slicedToArray from\"/var/www/timlara-admin-reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useSelector,useDispatch}from'react-redux';import{postLogin}from'../../store';import{useForm,Controller}from'react-hook-form';import{useHistory}from'react-router-dom';import{InputText}from'../../components';import Button from'@material-ui/core/Button';import'./style.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var SignIn=function SignIn(){var signin=useSelector(function(state){return state.signin;});var _useForm=useForm(),control=_useForm.control,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors;var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),submitting=_useState2[0],setSubmit=_useState2[1];var onSubmit=function onSubmit(data){dispatch(postLogin(data));setSubmit(true);};var history=useHistory();useEffect(function(){if(localStorage.getItem('backoffice_token')){setSubmit(false);history.push('/dashboard');}if(submitting&&signin.error){setSubmit(false);}},[history,signin,submitting]);return/*#__PURE__*/_jsxs(\"div\",{className:\"login-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(\"img\",{style:{maxWidth:200},src:'/images/logo192.png',alt:\"logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Timlara BackOffice\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"login-right-form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"login-form\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"form-heading\",children:\"Signup your account\"}),/*#__PURE__*/_jsx(Controller,{as:InputText,name:\"username\",label:\"Username\",error:!!errors.username,control:control,defaultValue:\"\",rules:{required:true}}),/*#__PURE__*/_jsx(Controller,{as:InputText,name:\"password\",label:\"Password\",error:!!errors.password,type:\"password\",control:control,defaultValue:\"\",rules:{required:true}}),/*#__PURE__*/_jsx(Button,{disabled:submitting,style:{marginTop:10},type:\"submit\",size:\"large\",color:\"secondary\",variant:\"contained\",children:\"Sign in\"})]})})]});};","map":{"version":3,"sources":["/var/www/timlara-admin-reactjs/src/pages/signin/index.tsx"],"names":["React","useEffect","useState","useSelector","useDispatch","postLogin","useForm","Controller","useHistory","InputText","Button","SignIn","signin","state","control","handleSubmit","errors","dispatch","submitting","setSubmit","onSubmit","data","history","localStorage","getItem","push","error","maxWidth","username","required","password","marginTop"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { IApplicationState, postLogin } from '../../store';\nimport { useForm, Controller } from 'react-hook-form';\nimport { useHistory } from 'react-router-dom';\nimport { InputText } from '../../components';\nimport Button from '@material-ui/core/Button';\nimport './style.scss';\n\nexport const SignIn = () => {\n\tconst signin = useSelector((state: IApplicationState) => state.signin);\n\tconst { control, handleSubmit, errors } = useForm();\n\tconst dispatch = useDispatch();\n\tconst [submitting, setSubmit] = useState(false);\n\tconst onSubmit = (data: any) => {\n\t\tdispatch(postLogin(data));\n\t\tsetSubmit(true);\n\t};\n\tconst history = useHistory();\n\tuseEffect(() => {\n\t\tif (localStorage.getItem('backoffice_token')) {\n\t\t\tsetSubmit(false);\n\t\t\thistory.push('/dashboard');\n\t\t}\n\t\tif (submitting && signin.error) {\n\t\t\tsetSubmit(false);\n\t\t}\n\t}, [history, signin, submitting]);\n\treturn (\n\t\t<div className='login-content'>\n\t\t\t<div className='main-content'>\n\t\t\t\t<img style={{ maxWidth: 200 }} src={'/images/logo192.png'} alt='logo' />\n\t\t\t\t<h1>Timlara BackOffice</h1>\n\t\t\t</div>\n\t\t\t<div className='login-right-form'>\n\t\t\t\t<form onSubmit={handleSubmit(onSubmit)} className='login-form'>\n\t\t\t\t\t<h3 className='form-heading'>Signup your account</h3>\n\t\t\t\t\t<Controller as={InputText} name='username' label='Username' error={!!errors.username} control={control} defaultValue='' rules={{ required: true }} />\n\t\t\t\t\t<Controller as={InputText} name='password' label='Password' error={!!errors.password} type='password' control={control} defaultValue='' rules={{ required: true }} />\n\t\t\t\t\t<Button disabled={submitting} style={{ marginTop: 10 }} type='submit' size='large' color='secondary' variant='contained'>\n\t\t\t\t\t\tSign in\n\t\t\t\t\t</Button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n"]},"metadata":{},"sourceType":"module"}
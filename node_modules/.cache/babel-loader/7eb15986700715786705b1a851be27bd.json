{"ast":null,"code":"import { AllTypeActions } from '../types';\nimport { put, takeLatest } from 'redux-saga/effects';\nimport { Requests } from '../requests';\n// import { ENDPOINTS, getApiUrl } from '../endpoints';\nimport { showMessage } from '../actions';\n\nfunction* getUsers() {\n  try {\n    // const apiUrl = getApiUrl(ENDPOINTS.GET_USERS);\n    const apiUrl = 'https://60517468534609001767198c.mockapi.io/api/user';\n    const data = yield Requests.get(apiUrl);\n    yield put({\n      type: AllTypeActions.LOAD_USERS_SUCCESS,\n      data\n    });\n  } catch (e) {\n    yield put({\n      type: AllTypeActions.LOAD_USERS_ERROR,\n      error: e.message\n    });\n  }\n}\n\nfunction* addUser({\n  type,\n  input\n}) {\n  yield put({\n    type: `${type}_ATTEMPT`\n  });\n\n  try {\n    // const apiUrl = getApiUrl(ENDPOINTS.CREATE_ADMIN_ACCOUNT);\n    const apiUrl = 'https://60517468534609001767198c.mockapi.io/api/user';\n    const data = yield Requests.post(apiUrl, input);\n    console.log('saga res', data);\n    yield put({\n      type: `${type}_SUCCESS`,\n      data: input\n    });\n    yield put(showMessage('Add user successful!'));\n  } catch (e) {\n    yield put({\n      type: `${type}_FAIL`,\n      error: e.toString()\n    });\n  }\n}\n\nfunction* deleteUser({\n  type,\n  input\n}) {\n  yield put({\n    type: `${type}_ATTEMPT`\n  });\n\n  try {\n    // const apiUrl = getApiUrl(ENDPOINTS.CREATE_ADMIN_ACCOUNT);\n    const apiUrl = 'https://60517468534609001767198c.mockapi.io/api/user';\n    const data = yield Requests.get(apiUrl, input);\n    console.log('saga res', data);\n    yield put({\n      type: `${type}_SUCCESS`,\n      removeIds: input\n    });\n    yield put(showMessage('Delete user successful!'));\n  } catch (e) {\n    yield put({\n      type: `${type}_FAIL`,\n      error: e.toString()\n    });\n  }\n}\n\nexport function* userActions() {\n  yield takeLatest(AllTypeActions.LOAD_USERS_LOADING, getUsers);\n  yield takeLatest(AllTypeActions.ADD_USER, addUser);\n  yield takeLatest(AllTypeActions.DELETE_USER, deleteUser);\n}","map":{"version":3,"sources":["/var/www/timlara-admin-reactjs/src/store/sagas/user.ts"],"names":["AllTypeActions","put","takeLatest","Requests","showMessage","getUsers","apiUrl","data","get","type","LOAD_USERS_SUCCESS","e","LOAD_USERS_ERROR","error","message","addUser","input","post","console","log","toString","deleteUser","removeIds","userActions","LOAD_USERS_LOADING","ADD_USER","DELETE_USER"],"mappings":"AAAA,SAASA,cAAT,QAA+B,UAA/B;AACA,SAASC,GAAT,EAAcC,UAAd,QAAgC,oBAAhC;AACA,SAASC,QAAT,QAAyB,aAAzB;AAEA;AACA,SAASC,WAAT,QAA4B,YAA5B;;AAEA,UAAUC,QAAV,GAAqB;AACpB,MAAI;AACH;AACA,UAAMC,MAAM,GAAG,sDAAf;AACA,UAAMC,IAAS,GAAG,MAAMJ,QAAQ,CAACK,GAAT,CAAaF,MAAb,CAAxB;AACA,UAAML,GAAG,CAAC;AAAEQ,MAAAA,IAAI,EAAET,cAAc,CAACU,kBAAvB;AAA2CH,MAAAA;AAA3C,KAAD,CAAT;AACA,GALD,CAKE,OAAOI,CAAP,EAAU;AACX,UAAMV,GAAG,CAAC;AAAEQ,MAAAA,IAAI,EAAET,cAAc,CAACY,gBAAvB;AAAyCC,MAAAA,KAAK,EAAEF,CAAC,CAACG;AAAlD,KAAD,CAAT;AACA;AACD;;AAED,UAAUC,OAAV,CAAkB;AAAEN,EAAAA,IAAF;AAAQO,EAAAA;AAAR,CAAlB,EAA8C;AAC7C,QAAMf,GAAG,CAAC;AAAEQ,IAAAA,IAAI,EAAG,GAAEA,IAAK;AAAhB,GAAD,CAAT;;AACA,MAAI;AACH;AACA,UAAMH,MAAM,GAAG,sDAAf;AACA,UAAMC,IAAS,GAAG,MAAMJ,QAAQ,CAACc,IAAT,CAAcX,MAAd,EAAsBU,KAAtB,CAAxB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBZ,IAAxB;AACA,UAAMN,GAAG,CAAC;AAAEQ,MAAAA,IAAI,EAAG,GAAEA,IAAK,UAAhB;AAA2BF,MAAAA,IAAI,EAAES;AAAjC,KAAD,CAAT;AACA,UAAMf,GAAG,CAACG,WAAW,CAAC,sBAAD,CAAZ,CAAT;AACA,GAPD,CAOE,OAAOO,CAAP,EAAU;AACX,UAAMV,GAAG,CAAC;AAAEQ,MAAAA,IAAI,EAAG,GAAEA,IAAK,OAAhB;AAAwBI,MAAAA,KAAK,EAAEF,CAAC,CAACS,QAAF;AAA/B,KAAD,CAAT;AACA;AACD;;AAED,UAAUC,UAAV,CAAqB;AAAEZ,EAAAA,IAAF;AAAQO,EAAAA;AAAR,CAArB,EAAiD;AAChD,QAAMf,GAAG,CAAC;AAAEQ,IAAAA,IAAI,EAAG,GAAEA,IAAK;AAAhB,GAAD,CAAT;;AACA,MAAI;AACH;AACA,UAAMH,MAAM,GAAG,sDAAf;AACA,UAAMC,IAAS,GAAG,MAAMJ,QAAQ,CAACK,GAAT,CAAaF,MAAb,EAAqBU,KAArB,CAAxB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBZ,IAAxB;AACA,UAAMN,GAAG,CAAC;AAAEQ,MAAAA,IAAI,EAAG,GAAEA,IAAK,UAAhB;AAA2Ba,MAAAA,SAAS,EAAEN;AAAtC,KAAD,CAAT;AACA,UAAMf,GAAG,CAACG,WAAW,CAAC,yBAAD,CAAZ,CAAT;AACA,GAPD,CAOE,OAAOO,CAAP,EAAU;AACX,UAAMV,GAAG,CAAC;AAAEQ,MAAAA,IAAI,EAAG,GAAEA,IAAK,OAAhB;AAAwBI,MAAAA,KAAK,EAAEF,CAAC,CAACS,QAAF;AAA/B,KAAD,CAAT;AACA;AACD;;AAED,OAAO,UAAUG,WAAV,GAAwB;AAC9B,QAAMrB,UAAU,CAACF,cAAc,CAACwB,kBAAhB,EAAoCnB,QAApC,CAAhB;AACA,QAAMH,UAAU,CAACF,cAAc,CAACyB,QAAhB,EAA0BV,OAA1B,CAAhB;AACA,QAAMb,UAAU,CAACF,cAAc,CAAC0B,WAAhB,EAA6BL,UAA7B,CAAhB;AACA","sourcesContent":["import { AllTypeActions } from '../types';\nimport { put, takeLatest } from 'redux-saga/effects';\nimport { Requests } from '../requests';\nimport { AnyAction } from 'redux';\n// import { ENDPOINTS, getApiUrl } from '../endpoints';\nimport { showMessage } from '../actions';\n\nfunction* getUsers() {\n\ttry {\n\t\t// const apiUrl = getApiUrl(ENDPOINTS.GET_USERS);\n\t\tconst apiUrl = 'https://60517468534609001767198c.mockapi.io/api/user';\n\t\tconst data: any = yield Requests.get(apiUrl);\n\t\tyield put({ type: AllTypeActions.LOAD_USERS_SUCCESS, data });\n\t} catch (e) {\n\t\tyield put({ type: AllTypeActions.LOAD_USERS_ERROR, error: e.message });\n\t}\n}\n\nfunction* addUser({ type, input }: AnyAction) {\n\tyield put({ type: `${type}_ATTEMPT` });\n\ttry {\n\t\t// const apiUrl = getApiUrl(ENDPOINTS.CREATE_ADMIN_ACCOUNT);\n\t\tconst apiUrl = 'https://60517468534609001767198c.mockapi.io/api/user';\n\t\tconst data: any = yield Requests.post(apiUrl, input);\n\t\tconsole.log('saga res', data);\n\t\tyield put({ type: `${type}_SUCCESS`, data: input });\n\t\tyield put(showMessage('Add user successful!'));\n\t} catch (e) {\n\t\tyield put({ type: `${type}_FAIL`, error: e.toString() });\n\t}\n}\n\nfunction* deleteUser({ type, input }: AnyAction) {\n\tyield put({ type: `${type}_ATTEMPT` });\n\ttry {\n\t\t// const apiUrl = getApiUrl(ENDPOINTS.CREATE_ADMIN_ACCOUNT);\n\t\tconst apiUrl = 'https://60517468534609001767198c.mockapi.io/api/user';\n\t\tconst data: any = yield Requests.get(apiUrl, input);\n\t\tconsole.log('saga res', data);\n\t\tyield put({ type: `${type}_SUCCESS`, removeIds: input });\n\t\tyield put(showMessage('Delete user successful!'));\n\t} catch (e) {\n\t\tyield put({ type: `${type}_FAIL`, error: e.toString() });\n\t}\n}\n\nexport function* userActions() {\n\tyield takeLatest(AllTypeActions.LOAD_USERS_LOADING, getUsers);\n\tyield takeLatest(AllTypeActions.ADD_USER, addUser);\n\tyield takeLatest(AllTypeActions.DELETE_USER, deleteUser);\n}\n"]},"metadata":{},"sourceType":"module"}
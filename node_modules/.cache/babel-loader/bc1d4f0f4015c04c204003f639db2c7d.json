{"ast":null,"code":"import _classCallCheck from\"/var/www/timlara-admin-reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/var/www/timlara-admin-reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import axios from'axios';import{objectToFormData}from'../../helpers';var defaultHeader=function defaultHeader(token){var header={'Content-Type':'application/json','Cache-Control':'no-cache'};if(token)header.Authorization=\"Bearer \".concat(token);return header;};var ApiRequests=/*#__PURE__*/function(){function ApiRequests(){_classCallCheck(this,ApiRequests);}_createClass(ApiRequests,[{key:\"get\",value:function get(apiUrl){var params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var isAuth=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var headers=defaultHeader(isAuth?localStorage.getItem('backoffice_token'):null);return new Promise(function(resolve,reject){axios.get(apiUrl,{headers:headers,params:params}).then(function(response){var jsonData=response.data;resolve(jsonData);}).catch(function(e){reject(e);});});}},{key:\"post\",value:function post(apiUrl){var input=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var isAuth=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var jsonParser=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var data=jsonParser?JSON.stringify(input):objectToFormData(input);var headers=defaultHeader(isAuth?localStorage.getItem('backoffice_token'):null);return new Promise(function(resolve,reject){axios.post(apiUrl,data,{headers:headers}).then(function(response){var jsonData=response.data;resolve(jsonData);}).catch(function(e){reject(e);});});}},{key:\"put\",value:function put(apiUrl){var input=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var isAuth=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var data=objectToFormData(input);var headers=defaultHeader(isAuth?localStorage.getItem('backoffice_token'):null);return new Promise(function(resolve,reject){axios.put(apiUrl,data,{headers:headers}).then(function(response){var jsonData=response.data;resolve(jsonData);}).catch(function(e){reject(e);});});}},{key:\"delete\",value:function _delete(apiUrl){var params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var isAuth=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var headers=defaultHeader(isAuth?localStorage.getItem('backoffice_token'):null);return new Promise(function(resolve,reject){axios.delete(apiUrl,{headers:headers,params:params}).then(function(response){var jsonData=response.data;resolve(jsonData);}).catch(function(e){reject(e);});});}}]);return ApiRequests;}();export var Requests=new ApiRequests();","map":{"version":3,"sources":["/var/www/timlara-admin-reactjs/src/store/requests/index.ts"],"names":["axios","objectToFormData","defaultHeader","token","header","Authorization","ApiRequests","apiUrl","params","isAuth","headers","localStorage","getItem","Promise","resolve","reject","get","then","response","jsonData","data","catch","e","input","jsonParser","JSON","stringify","post","put","delete","Requests"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { objectToFormData } from '../../helpers';\n\nconst defaultHeader = (token?: string | null) => {\n\tconst header: any = {\n\t\t'Content-Type': 'application/json',\n\t\t'Cache-Control': 'no-cache',\n\t};\n\tif (token) header.Authorization = `Bearer ${token}`;\n\treturn header;\n};\n\nclass ApiRequests {\n\tpublic get(apiUrl: string, params: any = {}, isAuth: boolean = true): Promise<any> {\n\t\tconst headers = defaultHeader(isAuth ? localStorage.getItem('backoffice_token') : null);\n\t\treturn new Promise<any>((resolve, reject) => {\n\t\t\taxios\n\t\t\t\t.get(apiUrl, { headers, params })\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconst jsonData = response.data;\n\t\t\t\t\tresolve(jsonData);\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\treject(e);\n\t\t\t\t});\n\t\t});\n\t}\n\n\tpublic post(apiUrl: string, input: any = {}, isAuth: boolean = true, jsonParser: boolean = false): Promise<any> {\n\t\tconst data = jsonParser ? JSON.stringify(input) : objectToFormData(input);\n\t\tconst headers = defaultHeader(isAuth ? localStorage.getItem('backoffice_token') : null);\n\t\treturn new Promise<any>((resolve, reject) => {\n\t\t\taxios\n\t\t\t\t.post(apiUrl, data, { headers })\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconst jsonData = response.data;\n\t\t\t\t\tresolve(jsonData);\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\treject(e);\n\t\t\t\t});\n\t\t});\n\t}\n\n\tpublic put(apiUrl: string, input: any = {}, isAuth: boolean = true): Promise<any> {\n\t\tconst data = objectToFormData(input);\n\t\tconst headers = defaultHeader(isAuth ? localStorage.getItem('backoffice_token') : null);\n\t\treturn new Promise<any>((resolve, reject) => {\n\t\t\taxios\n\t\t\t\t.put(apiUrl, data, { headers })\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconst jsonData = response.data;\n\t\t\t\t\tresolve(jsonData);\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\treject(e);\n\t\t\t\t});\n\t\t});\n\t}\n\n\tpublic delete(apiUrl: string, params: any = {}, isAuth: boolean = true): Promise<any> {\n\t\tconst headers = defaultHeader(isAuth ? localStorage.getItem('backoffice_token') : null);\n\t\treturn new Promise<any>((resolve, reject) => {\n\t\t\taxios\n\t\t\t\t.delete(apiUrl, { headers, params })\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconst jsonData = response.data;\n\t\t\t\t\tresolve(jsonData);\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\treject(e);\n\t\t\t\t});\n\t\t});\n\t}\n}\n\nexport const Requests = new ApiRequests();\n"]},"metadata":{},"sourceType":"module"}